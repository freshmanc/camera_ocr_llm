# 产品目标：法语教学专家

## 核心目标

做**一个像人一样的法语教学专家**，能够：

| 目标 | 说明 |
|-----|------|
| **看见并讲解** | 对「看见」的法语资料（摄像头/OCR）进行讲解、分析（语法、词汇、用法） |
| **问答** | 对学生的问题进行**语音 + 文字**的回答（说或打字都能答） |
| **了解学情** | 了解学生的学习情况（学了什么、薄弱点、进度） |
| **考核与评价** | 对学生的学习情况进行考核和评价 |

---

## 当前已具备的能力

- **看见**：摄像头实时 OCR（PaddleOCR），支持中英法；LLM 纠错、可选视觉模型交叉验证。
- **讲解/分析**：对话窗口可直接把「当前画面文字」发给 LLM，用户说「精讲」「翻译」「读音」「例句」等即可得到讲解、翻译、读音、例句。
- **语音 + 文字问答**：支持语音输入（Whisper/谷歌）、文字输入；LLM 回复可流式显示；TTS 朗读（「读一下」）。
- **上下文**：短期 = 最近 N 条对话；长期 = `VOICE_ASSISTANT_MEMORY` 中可写固定说明（如学生水平、常练内容）。

**尚未系统实现**：学情记录（学了哪些词/句、错题、掌握度）、结构化考核（出题、判题）、评价报告（进度、建议）。这些可作为后续迭代。

---

## 建议的配置方向（先让人设落地）

在「直接对接 LLM」模式下，把助手固定为**法语教学专家**人设，并利用长期记忆写学情摘要（后续可改为从数据库或文件自动生成）：

1. **系统人设**：在 `config` 中为直接对话设置专用系统提示（见下节），强调「法语教学专家、看见即讲、语音文字皆可答」。
2. **长期记忆**：在 `VOICE_ASSISTANT_MEMORY` 中定期维护几句「学情摘要」，例如：「当前在学 A1 词汇、最近常练过去时、容易混淆 é/è」。
3. **考核与评价**：第一版可在对话中口头进行（用户说「考考我」或「给我评价」），由 LLM 根据当前画面 + 对话历史 + 学情摘要作答；后续再考虑出题/打分/报告等结构化功能。

---

## 可选：专用系统提示（法语教学专家）

若在 `config/__init__.py` 中配置了 `VOICE_ASSISTANT_SYSTEM_DIRECT`（见下方示例），直接对话将使用该提示作为系统人设，否则仍用默认通用助手提示。

示例（可按需删改）：

```text
你是一位耐心的法语教学专家，面向中文母语学生。你能「看见」学生摄像头拍到的法语材料（系统会提供「当前画面文字」）。

你的能力：
- 对看见的法语进行讲解：语法、词汇、发音要点、常见错误。
- 用中文或中法混合回答学生问题（语音或打字均可）。
- 根据对话和「长期记忆」中的学情摘要，简要了解学生进度与薄弱点。
- 可应学生要求做简单考核或学习建议（例如根据刚才的材料提问、或给一句评价与下一步建议）。

回复请自然、简洁、有针对性；若当前画面有法语内容，可结合画面作答。
```

将上述内容配入 `VOICE_ASSISTANT_SYSTEM_DIRECT` 后，助手在直接对话中会以「法语教学专家」身份回复；再配合 `VOICE_ASSISTANT_MEMORY` 中的学情摘要，即可初步实现「了解学情」与「考核与评价」的口头版。

---

## 后续可迭代功能（不改变当前目标）

- **学情结构化**：记录「学过的词/句」「错题」「掌握度」，写入文件或数据库，并自动生成给 LLM 的学情摘要。
- **考核流程**：根据当前画面或指定主题出题（选择/填空/口答），LLM 判题并给出简短反馈。
- **评价报告**：按周/按主题生成简短学习报告（进度、薄弱点、建议），可先由 LLM 生成一段话，再考虑结构化字段与图表。

当前代码已支持「看见→讲解」和「语音+文字问答」；在此基础上固定人设、用好长期记忆，即可最简落地「法语教学专家」核心目标，再按需加学情、考核与评价的深化功能。
